package com.github.daianaegermichels.jogorpg;

import java.util.Scanner;

import com.github.daianaegermichels.jogorpg.entidades.Cacador;
import com.github.daianaegermichels.jogorpg.entidades.Combate;
import com.github.daianaegermichels.jogorpg.entidades.Guerreiro;
import com.github.daianaegermichels.jogorpg.entidades.Jogador;
import com.github.daianaegermichels.jogorpg.entidades.Mago;
import com.github.daianaegermichels.jogorpg.entidades.TextosRoteiro;

public class JogoApp {
	static Scanner entrada = new Scanner(System.in);
	static Combate combate = new Combate();
	static Jogador jogador = new Jogador();
	static TextosRoteiro textos = new TextosRoteiro();

	public static void main(String[] args) {
		try {
			int inicio;
			do {
				System.out.printf("Iniciar o jogo:%n 1 - Sim %n 2 - Não");
				inicio = entrada.nextInt();

				if (inicio == 1) {
					System.out.println("Seja Bem-Vindo(a) a BATALHA FINAL!");

					int nivel;
					do {
						System.out.printf("Escolha um nível de jogo: %n 1 - Fácil  %n 2 - Normal %n 3 - Difícil");
						nivel = entrada.nextInt();

						if (nivel != 1 && nivel != 2 && nivel != 3) {
							System.out.println("Entrada inválida!");
						}

					} while (nivel != 1 && nivel != 2 && nivel != 3);

					switch (nivel) {
					case 1:
						System.out.printf("Você escolheu o nível fácil");
						nivel = 1;
						break;

					case 2:
						System.out.printf("Você escolheu o nível normal");
						nivel = 2;
						break;

					case 3:
						System.out.printf("Você escolheu o nível difícil");
						nivel = 3;
						break;

					default:
						System.out.println("Entrada inválida!");

					}

					System.out.println(entrada.nextLine());
					System.out.println(":::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::");

					String nomeAvatar;

					do {
						System.out.println("De um nome ao seu avatar");

						nomeAvatar = entrada.nextLine().toUpperCase();
						jogador.setNome(nomeAvatar);

						if (nomeAvatar.length() > 0) {
							int confirmacaoNome;
							do {
								System.out.printf("%nO nome do seu avatar será %s, confirmar? %n1 - Sim %n2 - Não",
										nomeAvatar);
								confirmacaoNome = entrada.nextInt();

								if (confirmacaoNome == 1) {
									System.out.printf("Nome do Avatar: %s ", jogador.getNome());
								} else if (confirmacaoNome == 2) {
									System.out.println(entrada.nextLine());
									System.out.println("Altere o nome do seu avatar");
									nomeAvatar = entrada.nextLine().toUpperCase();
									jogador.setNome(nomeAvatar);
									System.out.printf("Nome do Avatar: %s. ", jogador.getNome());

								} else {
									System.out.printf("%nEntrada inválida!%n");
								}
							} while (confirmacaoNome != 1 && confirmacaoNome != 2);
						}
					} while (nomeAvatar.length() == 0);

					System.out.printf("%n:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::%n");

					int sexoAvatar;
					do {
						System.out.printf("%nEscolha um sexo para o seu avatar: %n 1 - Feminino %n 2 - Masculino ");
						sexoAvatar = entrada.nextInt();

						if (sexoAvatar == 1) {
							System.out.println("Sexo do Avatar: FEMININO ");
							jogador.setSexo(sexoAvatar);
						} else if (sexoAvatar == 2) {
							System.out.println("Sexo do Avatar: MASCULINO ");
							jogador.setSexo(sexoAvatar);
						} else {
							System.out.println("Entrada inválida!");
						}
					} while (sexoAvatar != 1 && sexoAvatar != 2);

					System.out.println(entrada.nextLine());

					System.out.println(":::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::");

					int agilidadeJogador;
					do {
						System.out.printf(
								"%nEscolha um nível de agilidade para o seu avatar: %n 1 - Normal %n 2 - Rápido ");
						agilidadeJogador = entrada.nextInt();

						if (agilidadeJogador == 1) {
							System.out.println("Agilidade do Avatar: NORMAL ");
							jogador.setAgilidade(agilidadeJogador);
						} else if (agilidadeJogador == 2) {
							System.out.println("Agilidade do Avatar: RÁPIDO ");
							jogador.setAgilidade(agilidadeJogador);
						} else {
							System.out.println("Entrada inválida!");
						}
					} while (agilidadeJogador != 1 && agilidadeJogador != 2);

					System.out.println(entrada.nextLine());
					int arma;
					int armaJogador = 0;
					System.out.println(":::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::");

					String classeCombate;

					do {
						System.out
								.printf("%nEscolha uma classe de combate: %n G - Guerreiro %n M - Mago %n C - Caçador");
						classeCombate = entrada.nextLine().toUpperCase();

						if (!classeCombate.equals("G") && !classeCombate.equals("M") && !classeCombate.equals("C")) {
							System.out.printf("%nClasse de combate inválida!");
						}

					} while (!classeCombate.equals("G") && !classeCombate.equals("M") && !classeCombate.equals("C"));

					if (classeCombate.equals("G")) {
						System.out.println("Classe de combate: GUERREIRO ");
						Guerreiro guerreiro = new Guerreiro(nomeAvatar, sexoAvatar, agilidadeJogador);
						do {
							System.out.printf(
									"%nEscolha uma arma para o combate: %n1 - Martelo %n2 - Machado %n3 - Espada %n4 - Clava");
							arma = entrada.nextInt();
							if (arma != 1 && arma != 2 && arma != 3 && arma != 4) {
								System.out.println("Arma inválida!");
							}
						} while (arma != 1 && arma != 2 && arma != 3 && arma != 4);
						armaJogador = guerreiro.setArma(arma);
					} else if (classeCombate.equals("M")) {
						System.out.println("Classe de combate: MAGO ");
						Mago mago = new Mago(nomeAvatar, sexoAvatar, agilidadeJogador);
						do {
							System.out.printf("%nEscolha uma arma para o combate: %n1 - Livro %n2 - Cajado");
							arma = entrada.nextInt();
							if (arma != 1 && arma != 2) {
								System.out.println("Arma inválida!");
							}
						} while (arma != 1 && arma != 2);
						armaJogador = mago.setArma(arma);
					} else if (classeCombate.equals("C")) {
						System.out.println("Classe de combate: CAÇADOR ");
						Cacador cacador = new Cacador(nomeAvatar, sexoAvatar, agilidadeJogador);
						do {
							System.out.printf(
									"%nEscolha uma arma para o combate: %n1 - Arco e Flecha %n2 - Besta e Virote");
							arma = entrada.nextInt();
							if (arma != 1 && arma != 2) {
								System.out.println("Arma inválida!");
							}
						} while (arma != 1 && arma != 2);
						armaJogador = cacador.setArma(arma);
					} else {
						System.out.printf("%nClasse de combate inválida!");
						System.out.println("JOGO ENCERRADO!");
						return;
					}

					System.out.println(entrada.nextLine());

					System.out.printf("%n:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::%n");
					
					textos.TextoUm();
					
					System.out.printf("%n:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::%n");

					String escolhaMotivacao;

					do {
						System.out.printf(
								"%nEscolha sua motivação para invadir a caverna do inimigo e derrotá-lo: %n V - VINGANÇA %n G - GLÓRIA ");
						escolhaMotivacao = entrada.nextLine().toUpperCase();

						if (!escolhaMotivacao.equals("V") && !escolhaMotivacao.equals("G")) {
							System.out.printf("%nEscolha inválida!");
						}

					} while (!escolhaMotivacao.equals("V") && !escolhaMotivacao.equals("G"));

					switch (escolhaMotivacao) {
					case "V":
						System.out.printf(
								"%nImagens daquela noite trágica invadem sua mente. %nVocê nem precisa se esforçar para lembrar, pois essas memórias estão sempre presentes, %nmesmo que de pano de fundo, quando você tem outros pensamentos em foco, elas nunca o deixaram. %nElas são o combustível que te fizeram chegar até aqui. %nE você sabe que não irá desistir até ter vingado a morte daqueles que foram - e pra sempre serão - sua fonte de amor e desejo de continuar vivo. %nO maldito líder finalmente pagará por tanto mal causado na vida de tantos (e principalmente na sua).");
						break;
					case "G":
						System.out.printf(
								"%nVocê já consegue visualizar na sua mente o povo da cidade te recebendo de braços abertos, %nbardos criando canções sobre seus feitos heróicos, nobres te presenteando com jóias e diversas riquezas, %ntaberneiros se recusando a cobrar por suas bebedeiras e comilanças. %nDesde já, você sente o amor do público, te louvando a cada passo que dá pelas ruas, depois de %ndestruir o vilão que tanto assombrou a paz de todos. Porém, você sabe que ainda falta o último ato dessa história. %nVocê se concentra na missão. A glória o aguarda, mas não antes da última batalha.");
						break;
					default:
						System.out.printf("%nEscolha inválida!%n JOGO ENCERRADO!");
						return;
					}

					System.out.printf("%n:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::%n");
					
					textos.TextoDois();

					System.out.printf("%n:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::%n");

					int escolhaSeguimentoJogo;
					do {
						System.out.printf("%nO que você deseja? %n 1 - Seguir em frente %n 2 - Desistir");
						escolhaSeguimentoJogo = entrada.nextInt();

						if (escolhaSeguimentoJogo != 1 && escolhaSeguimentoJogo != 2) {
							System.out.printf("%nEscolha inválida!");
						}

					} while (escolhaSeguimentoJogo != 1 && escolhaSeguimentoJogo != 2);

					switch (escolhaSeguimentoJogo) {
					case 1:
						System.out.printf("Você caminha, atento a todos os seus sentidos, por vários metros, "
								+ "%naté visualizar a frente uma fonte de luz, que você imagina ser a chama de uma tocha, "
								+ "%nvindo de dentro de uma porta aberta.");
						break;
					case 2:
						System.out.printf(
								"O medo invade o seu coração e você sente que ainda não está à altura do desafio. %nVocê se volta para a noite lá fora e corre em direção à segurança.%n");
						System.out.printf("%nJOGO ENCERRADO!");
						return;
					default:
						System.out.printf("%nEscolha inválida! %n JOGO ENCERRADO!");
						return;
					}
					;

					System.out.printf("%n:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::%n");
					
					textos.TextoTres();
					
					int modoDeAndar;
					do {
						System.out.printf("%n1 - Andando cuidadosamente %n2 - Correndo %n3 - Saltando");
						modoDeAndar = entrada.nextInt();

						if (modoDeAndar != 1 && modoDeAndar != 2 && modoDeAndar != 3) {
							System.out.printf("%nEscolha inválida, tente novamente!%n");
						}

					} while (modoDeAndar != 1 && modoDeAndar != 2 && modoDeAndar != 3);

					switch (modoDeAndar) {
					case 1:
						System.out.printf("%nVocê toma cuidado e vai caminhando vagarosamente em direção à luz. "
								+ "%nQuando você pisa exatamente embaixo da porta, você sente o chão ceder levemente, como se tivesse pisado em uma pedra solta. "
								+ "%nVocê ouve um ruído de mecanismos se movimentando, e uma escotilha se abre no teto atrás de você, no corredor. "
								+ "%nFlechas voam da escotilha em sua direção, e você salta para dentro da sala, "
								+ "%nporém uma delas te acerta na perna.");
						break;
					case 2:
						System.out.printf("%nVocê respira fundo e desata a correr em direção à sala. "
								+ "%nQuando passa pela porta, sente que pisou em uma pedra solta, mas não dá muita importância e segue para dentro da sala, "
								+ "%nolhando ao redor à procura de inimigos. Não tem ninguém, mas você ouve sons de "
								+ "%nflechas batendo na pedra atrás de você, e quando se vira, vê várias flechas no chão. "
								+ "%nEspiando pela porta, você entende que pisou em uma armadilha que soltou flechas "
								+ "%nde uma escotilha aberta no teto, mas por sorte você entrou correndo e "
								+ "%nconseguiu escapar desse ataque surpresa.");
						break;
					case 3:
						System.out.printf(
								"%nVocê se concentra e pula em direção à luz, saltando de antes da porta até o interior da sala.");
						break;

					default:
						System.out.printf("%nEntrada inválida! %n JOGO ENCERRADO!");
						return;
					}
					;

					System.out.printf("%n:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::%n");
					
					textos.TextoQuatro();
				
					System.out.printf("%n:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::%n");

					int continua;

					do {
						System.out.printf("%nO que você deseja fazer? %n1 - Seguir em frente %n2 - Fugir");

						continua = entrada.nextInt();
						if (continua != 1 && continua != 2) {
							System.out.printf("%nEntrada Inválida!");
						}

					} while (continua != 1 && continua != 2);

					int combateDireita;

					switch (continua) {
					case 1:
						combateDireita = combate.combatePortaDireita(continua, nivel, armaJogador, modoDeAndar,
								escolhaMotivacao, classeCombate, agilidadeJogador);
						break;
					case 2:
						System.out.printf("%nVocê não estava preparado para a força do inimigo, "
								+ "%ne decide fugir para que possa tentar novamente em uma próxima vez.");
						System.out.printf("%n JOGO ENCERRADO");
						return;
					default:
						System.out.printf("%nEntrada Inválida! %n JOGO ENCERRADO");
						return;

					}
					;

					int escolhaArmaduraNova = 0;
					if (combateDireita == 1) {
						System.out.printf(
								"%nApós derrotar o Armeiro, você percebe que seus equipamentos estão muito danificados, "
										+ "%ne olha em volta, encarando todas aquelas peças de armaduras resistentes e em ótimo estado.");
						do {
							System.out
									.printf("%nVocê deseja substituir sua armadura por uma nova? %n1 - Sim %n2 - Não ");
							escolhaArmaduraNova = entrada.nextInt();
							if (escolhaArmaduraNova != 1 && escolhaArmaduraNova != 2) {
								System.out.println("Escolha inválida!");
							}

						} while (escolhaArmaduraNova != 1 && escolhaArmaduraNova != 2);

						if (escolhaArmaduraNova == 1) {
							System.out.printf("%nVocê resolve usar os equipamentos do"
									+ "%ninimigo contra ele, e trocar algumas peças suas, que estavam danificadas, pelas peças de"
									+ "%narmaduras existentes na sala. De armadura nova, você se sente mais protegido para os desafios"
									+ "%nà sua frente.");

						} else if (escolhaArmaduraNova == 2) {
							System.out.printf(
									"%nVocê decide que não precisa utilizar nada que venha das mãos do inimigo.");

						} else {
							System.out.println("Opção inválida!");
						}
					} else if (combateDireita == 2) {
						System.out.printf(
								"%nVocê não estava preparado para a força do inimigo, e decide fugir para que possa tentar novamente em uma próxima vez."
										+ "%n JOGO ENCERRADO!");
						return;
					} else if (combateDireita == 0) {
						System.out.printf("%nJOGO ENCERRADO!");
						return;
					}

					System.out.printf("%n:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::%n");
					System.out.println(entrada.nextLine());
					
					textos.TextoCinco();

					do {
						System.out.printf("%nO que você deseja fazer? %n1 - Seguir em frente %n2 - Fugir");
						continua = entrada.nextInt();
						if (continua != 1 && continua != 2) {
							System.out.printf("%nEntrada Inválida!%n");
						}

					} while (continua != 1 && continua != 2);

					int combateEsquerda;

					switch (continua) {
					case 1:
						System.out.printf("%nInício do combate%n");
						break;
					case 2:
						System.out.printf("%nVocê não estava preparado para a força do inimigo, "
								+ "%ne decide fugir para que possa tentar novamente em uma próxima vez. %n JOGO ENCERRADO!");
						return;
					default:
						System.out.printf("%nJOGO ENCERRADO!");
						return;

					}

					combateEsquerda = combate.combatePortaEsquerda(escolhaSeguimentoJogo, nivel, armaJogador,
							escolhaMotivacao, classeCombate, escolhaArmaduraNova);

					System.out.printf("%n:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::%n");

					int escolhaBeberPocao = 0;

					if (combateEsquerda == 1) {
						System.out.printf(
								"%nApós derrotar o Alquimista, você olha em volta, tentando reconhecer alguma poção do estoque do inimigo. "
										+ "%nEm uma mesa, você reconhece uma pequena garrafa de vidro contendo um líquido levemente rosado, "
										+ "%npega a garrafa e pondera se deve beber um gole.");

						do {

							System.out.printf("%nVocê deseja ingerir beber um gole da poção? %n1 - Sim %n2 - Não ");
							escolhaBeberPocao = entrada.nextInt();
							if (escolhaBeberPocao != 1 && escolhaBeberPocao != 2) {
								System.out.println("Escolha inválida!");
							}
						} while (escolhaBeberPocao != 1 && escolhaBeberPocao != 2);

						switch (escolhaBeberPocao) {
						case 1:
							System.out.printf("%nVocê se sente revigorado para seguir adiante!");
							escolhaBeberPocao = 1;
							break;
						case 2:
							System.out.printf("%nVocê fica receoso de beber algo produzido pelo inimigo!");
							escolhaBeberPocao = 2;
							break;
						default:
							System.out.println("Opção inválida! JOGO ENCERRADO!");
							return;
						}

					} else if (combateEsquerda == 2) {
						System.out
								.printf("%nVocê não estava preparado para a força do inimigo, e decide fugir para que "
										+ "possa tentar novamente em uma próxima vez." + "%n JOGO ENCERRADO!");
						return;
					} else if (combateEsquerda == 0) {
						System.out.printf("%nJOGO ENCERRADO!");
						return;
					}

					System.out.printf("%n:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::%n");
					
					textos.TextoSeis();

					int escolhaAtacarEsperar;

					do {
						System.out.printf("%nO que você deseja fazer? %n1- Atacar %n2 - Esperar");
						escolhaAtacarEsperar = entrada.nextInt();

						if (escolhaAtacarEsperar != 1 && escolhaAtacarEsperar != 2) {
							System.out.printf("Escolha inválida!");
						}
					} while (escolhaAtacarEsperar != 1 && escolhaAtacarEsperar != 2);

					if (escolhaAtacarEsperar == 1) {
						System.out.printf("%n Você optou por Atacar");
					} else if (escolhaAtacarEsperar == 2) {
						System.out.printf("%n Você optou por Esperar, o inimigo iniciou o combate");
					} else {
						System.out.printf("%nOpção inválida! %n JOGO ENCERRADO!");
						return;
					}

					int combateFinal;

					combateFinal = combate.combatePortaFinal(escolhaSeguimentoJogo, nivel, armaJogador,
							escolhaMotivacao, classeCombate, escolhaBeberPocao, escolhaAtacarEsperar);

					if (combateFinal == 1) {

						System.out.printf("%nVocê conseguiu!");

						if (escolhaMotivacao.equals("V")) {

							System.out.printf(
									"%nVocê obteve sua vingança. Você se ajoelha e cai no choro, invadido por uma sensação de alívio e felicidade. Você se vingou, tudo que sempre quis, está feito. Agora você pode seguir sua vida.");
						} else {

							System.out.printf(
									"%nO êxtase em que você se encontra não cabe dentro de si. Você se ajoelha e grita de alegria. A glória o aguarda, você a conquistou.");
						}

						System.out.printf(
								"%n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::");

						System.out.printf(
								"%nVocê se levanta, olha para os prisioneiros, vai de um em um e os liberta, %ne todos vocês saem em direção à noite, retornando à cidade. %nSeu dever está cumprido.");

						System.out.printf("%nJOGO ENCERRADO!");
						return;
					} else if (combateFinal == 2) {
						System.out
								.printf("%nVocê não estava preparado para a força do inimigo, e decide fugir para que "
										+ "possa tentar novamente em uma próxima vez." + "%n JOGO ENCERRADO!");
						return;
					} else if (combateFinal == 0) {
						System.out.printf("%nJOGO ENCERRADO!");
						return;
					} else {
						return;
					}

				} else if (inicio == 2) {
					System.out.printf("%nJOGO ENCERRADO!");
					entrada.close();
					return;
				} else {
					System.out.printf("%nEntrada inválida! Tente novamente%n");
				}
			} while (inicio != 1 && inicio != 2);

			entrada.close();
		} catch (Error inicio) {
			System.out.printf("%nAlgo deu errado! Estamos trabalhando para resolver o problema...");
		} finally {
			System.out.printf("%nFIM");
		}
		;
	}
}